var main={info:{title:"kb",socials:[{name:"Linkedin",tag:"fa-linkedin",link:"https://www.linkedin.com/in/giakhoabui/"},{name:"Github",tag:"fa-github",link:"https://github.com/khoabui9"},{name:"Instagram",tag:"fa-instagram",link:"https://www.instagram.com/_khoabui/"},{name:"Facebook",tag:"fa-facebook",link:"https://www.facebook.com/buigiakhoa"}]},works:[{title:"project wave",description:"We work on conceptualizing, designing, developing, and testing. We produce content for almost all ProjectWave pages a user sees prior to signing up and when logging in.",category:"Full-service",image:"./public/image/project-wave.jpg"},{title:"project sand",description:"Ce bac de rangement est un objet éco-conçu pour l’enseigne d’ameublement et de décoration Maison du Monde.",category:"Full-service",image:"./public/image/project-sand.jpg"},{title:"project palm",description:"The Hoxton Paris is opening its doors on Rue du Sentier in Paris’s second arrondissement.",category:"Full-service",image:"./public/image/project-green.jpg"},{title:"project green",description:"We decided to rethink everything, including our messaging approach, site structure, and UX. We crafted both copy and visuals from scratch in just a few months.",category:"Full-service",image:"./public/image/project-palm.jpg"}]},about=[{text1:"Hi,",text2:"I'm a",text3:"Web Developer"},{text1:"Beside coding",text2:"I'm passionate about",text3:"photography & cinematography",text4:"and travel"},{text1:"Contact me",text2:"khoa.buigia0212@gmail.com"}];const container=document.querySelector(".container"),header=createHeader(),projectContainer=createProjectContainer(),limit=Math.tan(.375*Math.PI);var active=0,activeAbout=0,width=100,perfData=window.performance.timing,EstimatedTime=-(perfData.loadEventEnd-perfData.navigationStart),time=50*parseInt(EstimatedTime/1e3%60);let pageWidth=window.innerWidth||document.body.clientWidth,treshold=Math.max(1,Math.floor(.01*pageWidth)),touchstartX=0,touchstartY=0,touchendX=0,touchendY=0;function handleGesture(e){var t=active,a=document.getElementById("pl"),n=(document.getElementById("aic"),document.getElementById("another"));let i=touchendX-touchstartX,o=touchendY-touchstartY,r=Math.abs(i/o),c=Math.abs(o/i);Math.abs(i)>treshold||Math.abs(o)>treshold?(c<=limit&&(i<0?(console.log("left:"+active),++active>main.works.length-1&&(active=0),++activeAbout>about.length-1&&(activeAbout=about.length-1),n.style.transform="translate(0,-"+100*activeAbout+"%)"):(console.log("right: "+active),--active<0&&(active=0))),r<=limit&&(o<0?(console.log("top:"+active),++active>main.works.length-1&&(active=0),++activeAbout>about.length-1&&(activeAbout=about.length-1),n.style.transform="translate(0,-"+100*activeAbout+"%)"):(console.log("bottom: "+active),--active<0&&(active=0),--activeAbout<0&&(activeAbout=0),n.style.transform="translate(0,-"+100*activeAbout+"%)")),active!==t&&(a.style.transform=0===active?"translate(20%)":"translate(-"+(50*active-20)+"%)",updateSlide(active>t?"forward":"down",active+1),setTimeout(()=>{hidePrevProject(t)},500),setTimeout(()=>{showNextProject(active)},500))):console.log("tap")}const debounce=(e,t)=>{let a;return function(){const n=this,i=arguments;clearTimeout(a),a=setTimeout(()=>e.apply(n,i),t)}};function createHeader(){var{title:e}=main.info,t=document.createElement("div"),a=document.createElement("h1");return t.classList.add(...["header","center"]),a.className="logo",a.innerHTML=`${e}`,t.appendChild(a),t}function createProjectContainer(){var e=document.createElement("div");return e.classList.add(...["project-container","w-100"]),e.id="project-ne",e}function createProjectList(){var e=document.createElement("ul");return e.id="pl",e.classList.add(...["project-list","full","pd-0","m-0"]),e}function createProject(e){var t=document.createElement("li");return t.id="project-"+e,t.classList.add(...["project","h-100","center"]),t}function createProjectTitle(e,t){var a=["letter-wrapper"],n=["project-title"],i=e.split(" "),o=document.createElement("div");return o.classList.add(...["project-title-container"]),o.id="title-container-"+t,i.map(e=>{e.split("").map(e=>{var t=document.createElement("div");t.classList.add(...a);var i=document.createElement("span");i.classList.add(...n),i.innerHTML=e,t.appendChild(i),o.appendChild(t)})}),o}function createImage(e,t){var a=document.createElement("div");a.classList.add(...["project-image-container","full"]),a.id="project-image-container-"+t;var n=document.createElement("img");return n.classList.add(...["project-image"]),n.id="project-image-"+t,n.src=e,a.appendChild(n),a}function createProgressBar(){var e=main.works.length;document.createElement("span").innerHTML="-";var t=document.createElement("div");t.classList.add(...["footer-container","center"]);var a=document.createElement("div");a.classList.add(...["progress-container"]);var n=document.createElement("div");n.classList.add(...["progress-number","center"]);var i=document.createElement("div");i.classList.add(...["progress-bar","center"]);var o=document.createElement("div");o.classList.add(...["slide"]),o.id="p-b",o.style.transform="translate(-"+(100-100/e)+"%, 0)";var r=document.createElement("p");r.classList.add(...["current-step"]),r.id="p-n",r.innerHTML=active.toString()+1;var c=document.createElement("p");return c.classList.add(...["max-step"]),c.innerHTML=e,n.appendChild(r),i.appendChild(o),a.appendChild(n),a.appendChild(i),t.appendChild(a),t}function socialsLink(){var e=main.info.socials,t=document.createElement("div");t.classList.add(...["socials-container","center"]);var a=document.createElement("ul");return a.classList.add(...["socialmedia"]),e.map(e=>{var t=[e.name],n=["fa",e.tag],i=document.createElement("li");i.classList.add(...t);var o=document.createElement("a");o.classList.add(...n),o.href=e.link,i.appendChild(o),a.appendChild(i)}),t.appendChild(a),t}function counter(){var e=document.createElement("div");e.classList.add(...["counter"]);var t=document.createElement("p");return t.classList.add(...["counter-num"]),t.innerHTML=active.toString()+1+"<br> - <br>0"+main.works.length.toString(),t.id="c-c",e.appendChild(t),e}function viewmore(){var e=document.createElement("div");e.classList.add(...["view-more","h-100","center"]);var t=document.createElement("a");t.className="link",t.href="#";var a=document.createElement("p");return a.classList.add(...["view-more-text"]),a.innerHTML="view more",t.appendChild(a),e.appendChild(t),e}function aboutButton(){var e=document.createElement("div");e.classList.add(...["about-container","center"]);var t=document.createElement("a");e.classList.add(...["about"]),t.href="#";var a=document.createElement("span");return a.classList.add(...["about-text"]),a.innerHTML="about",t.appendChild(a),t.addEventListener("click",()=>{document.querySelector("#aic").classList.add("active-about");var e=document.querySelector("#another");setTimeout(()=>{e.style.transform="translate(0,0)",activeAbout=0},500)}),e.appendChild(t),e}function aboutPage(){var e=document.createElement("div");e.classList.add(...["about-info-container","full"]),e.id="aic";var t=document.createElement("div");t.classList.add(...["close"]),t.id="close-about",t.innerHTML="X",t.addEventListener("click",()=>{var e=document.querySelector("#aic"),t=document.querySelector("#another");setTimeout(()=>{t.style.transform="translate(0,0)",activeAbout=0,e.classList.remove("active-about")},500)}),e.appendChild(t);var a=document.createElement("div");return a.classList.add(...["another-container","full"]),a.id="another",about.map((e,t)=>{var n=document.createElement("div");n.classList.add(...["page","full","center"]),n.id="page-"+t;var i=document.createElement("div");for(var o in i.classList.add(...["item-container"]),i.id="item-container-"+t,e){var r=document.createElement("div");r.classList.add(...["text-info"]),r.innerHTML=e[o],i.appendChild(r),n.appendChild(i)}a.appendChild(n)}),e.appendChild(a),e}function setAboutScroll(){var e=document.getElementById("aic"),t=document.getElementById("another"),a={wheeling:!1,functionCall:!1},n=!1;e.addEventListener("wheel",e=>{document.getElementById("pl");if(a.wheeling=!0,!a.functionCall){const n=e.detail?-120*e.detail:e.wheelDelta;n<0&&(console.log("scrolled down: "+n),++activeAbout>about.length-1&&(activeAbout=about.length-1),t.style.transform="translate(0,-"+100*activeAbout+"%)"),n>0&&(console.log("scrolled up: "+n),--activeAbout<0&&(activeAbout=0),t.style.transform="translate(0,-"+100*activeAbout+"%)"),a.functionCall=!0}window.clearInterval(n),n=window.setTimeout(function(){a.wheeling=!1,a.functionCall=!1},250)})}function addListClass(e,t,a){[...document.getElementById(e).getElementsByTagName(t)].map(e=>{e.classList.add(a)})}function removeListClass(e,t,a){[...document.getElementById(e).getElementsByTagName(t)].map(e=>{e.classList.remove(a)})}function addClass(e,t){document.getElementById(e).classList.add(t)}function removeClass(e,t){document.getElementById(e).classList.remove(t)}function updateSlide(e,t){var a=100/main.works.length,n=document.getElementById("p-b"),i=document.getElementById("p-n"),o=document.getElementById("c-c"),r=t;"forward"===e?(i.innerHTML=0+r.toString(),o.innerHTML=0+r.toString()+"<br> - <br>0"+main.works.length.toString(),n.style.transform="translateX(-"+(100-t*a)+"%)"):"down"===e&&(i.innerHTML=0+r.toString(),o.innerHTML=0+r.toString()+"<br> - <br>0"+main.works.length.toString(),n.style.transform="translateX(-"+(100-t*a)+"%)")}function renderProjectInfo(){return main.works.map((e,t)=>{var a=createProject(t),n=createProjectTitle(e.title,t),i=createImage(e.image,t);return a.appendChild(i),a.appendChild(n),a.outerHTML}).join("")}function hidePrevProject(e){removeListClass("title-container-"+e,"span","active-title"),removeClass("project-image-container-"+e,"o-1")}function showNextProject(e){addListClass("title-container-"+e,"span","active-title"),addClass("project-image-container-"+e,"o-1")}function getTranslate(e){var t=[];if(window.getComputedStyle){var a=getComputedStyle(e),n=a.transform||a.webkitTransform||a.mozTransform||a.msTransform,i=n.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[13]):((i=n.match(/^matrix\((.+)\)$/))?t.push(parseFloat(i[1].split(", ")[4])):t.push(0),i?t.push(parseFloat(i[1].split(", ")[5])):t.push(0),t)}}function setScroll(){document.getElementById("project-ne");var e={wheeling:!1,functionCall:!1},t=!1;window.addEventListener("wheel",a=>{var n=active,i=document.getElementById("pl");if(e.wheeling=!0,!e.functionCall){const t=a.detail?-120*a.detail:a.wheelDelta;t<0&&(console.log("scrolled down: "+t),++active>main.works.length-1&&(active=0)),t>0&&(console.log("scrolled up: "+t),--active<0&&(active=0)),e.functionCall=!0}window.clearInterval(t),t=window.setTimeout(function(){e.wheeling=!1,e.functionCall=!1},250),active!==n&&(i.style.transform=0===active?"translate(20%)":"translate(-"+(50*active-20)+"%)",updateSlide(active>n?"forward":"down",active+1),setTimeout(()=>{hidePrevProject(n)},500),setTimeout(()=>{showNextProject(active)},500))})}function init(){var e=[...document.getElementById("title-container-0").getElementsByTagName("span")];document.getElementById("project-image-container-0").classList.add("o-1"),e.map(e=>{e.classList.add("active-title")})}function render(){var e=createProjectList(),t=createProjectContainer(),a=createProgressBar(),n=socialsLink();a.appendChild(n),e.innerHTML=renderProjectInfo(),e.appendChild(viewmore()),t.appendChild(e),header.appendChild(aboutButton()),container.appendChild(header),container.appendChild(counter()),container.appendChild(t),container.appendChild(a),container.appendChild(aboutPage()),window.addEventListener("load",function(){setScroll(),setAboutScroll(),window.addEventListener("touchstart",function(e){touchstartX=e.changedTouches[0].screenX,touchstartY=e.changedTouches[0].screenY},!1),window.addEventListener("touchend",function(e){touchendX=e.changedTouches[0].screenX,touchendY=e.changedTouches[0].screenY,handleGesture(e)},!1),about.map((e,t)=>{interactive(t)})}),init()}function interactive(e){var t=document.getElementById("item-container-"+e),a={_x:0,_y:0,x:0,y:0,updatePosition:function(e){var t=e||window.event;this.x=t.clientX-this._x,this.y=-1*(t.clientY-this._y)},setOrigin:function(e){this._x=e.offsetLeft+Math.floor(e.offsetWidth/2),this._y=e.offsetTop+Math.floor(e.offsetHeight/2)},show:function(){return"("+this.x+", "+this.y+")"}};a.setOrigin(t);var n=0,i=function(e){a.updatePosition(e),o((a.y/t.offsetHeight/2).toFixed(2),(a.x/t.offsetWidth/2).toFixed(2))},o=function(e,t){};t.onmouseenter=function(e){i(e)},t.onmouseleave=function(){t.style=""},t.onmousemove=function(e){n++%10==0&&i(e)}}render(),$(document).keydown(function(e){9==e.keyCode&&e.preventDefault()}),$(".loadbar").animate({width:width+"%"},time);var PercentageID=$("#precent"),start=0,end=100,durataion=time;function animateValue(e,t,a,n){var i=a-t,o=t,r=a>t?1:-1,c=Math.abs(Math.floor(n/i)),d=$(e),s=setInterval(function(){o+=r,$(d).text(o+"%"),o==a&&clearInterval(s)},c)}animateValue(PercentageID,start,end,durataion),setTimeout(function(){$(".preloader-wrap").fadeOut(500)},time);